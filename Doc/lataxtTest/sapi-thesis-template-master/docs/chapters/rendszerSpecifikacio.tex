\section{Mérő áramkör}

A rendszer hasonlóan épül fel, mint a példaként használt rendszer [\cite{similarSystem}], viszont néhány módosítással.
Viszont az elméleti alapja hasonló. A komponens lábára egy ellenálláson keresztül feszültséget kapcsolva és a 
feszültség mérésével az ellenállás után meg lehet állapítani az áramerősséget és a feszültség esést a komponensen.
Ezekből az értékekből számítások segítségével ki lehet számolni, hogy mi az ismeretlen komponens (ennek a leírása
és lépései a későbbiekben lesznek részletezve) és értékét. A jelenlegi rendszer mérő áramkör része a következőkben
látható. [\ref{fig:ownTesterConnection}]

\begin{figure}[h]
    \centering
    \includegraphics[scale=0.3]{figures/images/literature/TeszterConnections.png}
    \caption{Saját teszter bekötési rajza}
    \label{fig:ownTesterConnection}
\end{figure}

Ebben az esetben szükséges analóg kapcsolók használata, mivel az eredeti
teszter csak digitális jeleket használ amit direkt a GPIO-ról voltak kivezetve,
így az ellenállások közti váltásokért belsőleg a mikrovezérlő felt. Viszont ebben
az esetben a jelek analóg jellek amit egy külső DAC generál, így a mikrovezérlő nem
képes belsőleg kapcsolni ezeket ezért egy 3 kimenetes analóg kapcsoló van alaklmazva
erre a célra.

Mivel csak egy kapcsolón csak egy kimenet aktív egy időben, így az ellenállások után
a vezetékez összekapcsolhatóak, mivel azok nem fogják befolyásolni a rendszer működését,
erre a részre van kapcsolva az ADC egyik csatornája is, mivel itt a feszültség érték
azonos a komponens lábán található feszültséggel, így a komponenst nem kell módosítani,
hogy a feszültség látható legyen a lábán.

Az analóg jel 0V-3.3V közt lehetséges és a DAC maximálisan 50mA-t képes leadni, viszont
mivel a kondenzátorokat ki kell sütni csatlakoztatás előtt és külső tápfeszültség nem 
kapcsolható így a maximális áramerősség 33mA-nél nem lehet nagyobb semmilyen esetben.

A rendszer átlagolva nézi a feszültséget a komponens lábán, mellyel nagyobb pontosság
érhető el, mivel a zajok kevésbé befolyásolják a jelet. Viszont képes időben is mérni
a feszültséget, hogy hogyan változik a feszültség ahogy telik az idő. Az ADC 500.000 mérést
tud végezni másodpercenként, viszont ez lelassítható egy belső késleltetővel. Ami segítségével
a lassan változó jelek is megfigyelhetőek, mint például egy nagy kondenzátor töltödése.


\section{Áramkör terv}

A rendszer elkészítéséhez szükséges volt egy áramkör tervezése is, mivel több komponens
csak SMD (Surface Mount Component) formában találhatóak meg, így nem alkalmazhatóak egy
egyszerű breadboard. Ezen megtalálható minden ami szükséges a rendszer működéséhez, 
csupán egy micro-USB szükséges a rendszer táplálásához.

Az áramkör tervet az EasyEDA-ban terveztem, ez egy ingyenesen használható szerkesztő
program, akár webes felületen is használható és nagy mennyiségű alkatrész található
meg az adatbázisában amelyek a tervezésre használhatóak.

Az áramkör egy kétoldalas lapon található és csak egy oldalán találhatóak a komponensek.
A másik oldalán legfőképpen a huzalozás található. A rendszer használ kis méretű
SMD alkatrészeket és THC alkatrészeket is. 

A huzalozás során nagyobb figyelmet fektettem a nagy frekvenciás SPI jelek
és a mérőáramkör szétválasztására, a zajok csökkentése érdekében.

\subsection{Problémák az áramkör tervezésekor}

Mivel számomra az áramkör tervezés tárgy nem volt elérhető, így ez volt az első 
áramkör amit terveztem. Így többször át kellett alakítsam, hogy kivitelezhető legyen.

Legelső alkalommal a rendszer nem volt kivitelezhető, mivel túl vékony vezetékeket
használtam, ami nem volt legyártható a számomra elérhető helyeken. A komponenseket 
nehezen lehetett volna beilleszteni (Through Hole komponensek esetén, mint a kijelző),
mivel a vezetékek a lap mindkét oldalán voltak vezetve, így forrasztás során nehéz
lett volna azokat a lábakat forrasztani, amelyek a képernyő oldalán voltak.
Ezek át kellett vezessem olyan módon, hogy csakis a lap másik oldalán legyen a vezeték
csatlakoztatva a komponenshez.

Beszerzés során nem rendeltem meg minden alkatrészt, csak a fontosakat, így néhány
egyszerű alkatrészt helyettesítettem más alaktrésekkel, ez csupán egy feszültség referenciát
2 LED-et és egy kapcsolót érintett, így ezeket inkább helyileg helyettesítettem, minthogy
ismét rendeljem meg azokat.

A kijelző mérete a szerkesztőben és a valóságban nem egyezett meg, viszont ez még 
kiderült az áramkör kinyomtatása előtt, így nem vesztődött el sok idő. Az egész
kijelző nagyobb volt, mint a valóságban, még a láb közei is, így könnyedén látható
volt, hogy a tervrajz nem lesz kivitelezhető.

A tervrajzra nem tüntettem fel néhány jelzést, ami a felhasználást segíti, így ezt 
utólag felrajzoltam a lapra.

\subsection{Áramkör elkészítése}

Miután a tervezés elkészült és kivitelezhetőnek lett minősítve azután az áramkör
el lett keszítve az egyetemi laboratórium segítségével. Miután a lapot a furatokkal és a réz
huzalozással megkaptam azután elkezdtem a komponensek felhelyezését.

Áramkör forrasztásával szintén nem volt sok tapasztalatom, csupán egyszerűbb
áramkörökkel, így nem a lehető legszebb, viszont használat során minden elektonikailag
csatlakoztatva van, így az áramkör működőképes. A végső áramkör a következőkben néz ki.
[\ref{fig:Aramkor}]


\begin{figure}[h]
    \centering
    \includegraphics[scale=0.1]{images/literature/PCB.jpg}
    \caption{A kész áramkör}
    \label{fig:Aramkor}
\end{figure}


